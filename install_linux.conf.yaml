- shell:
  - [git submodule update --init --recursive, Installing submodules]

- defaults:
    link:
      create: true  # Create parent directories as needed

- clean:  # Remove dead links
    ~/:
    ~/.config:
      recursive: true

- link:
    ~/.config/nvim: nvim
    ~/.config/alacritty: alacritty
    ~/.config/lazygit/config.yml: lazygit.yml
    ~/.gitconfig: gitconfig
    ~/.p10k.zsh: p10k.zsh
    ~/.zshrc: zshrc
    ~/Brewfile: .brewfile_linux

- create:
    - ~/.vim/undo-history

- shell:
    - [brew bundle install]

- shell:
    - [git clone git@github.com:tmux-plugins/tpm.git ~/.tmux/plugins/tpm]
    - [echo 'To install TMUX plugins, open TMUX and press `prefix + I`']
