- shell:
    - [git submodule update --init --recursive, Installing submodules]

- defaults:
    link:
      create: true # Create parent directories as needed

- clean: # Remove dead links
    ~/:
    ~/.config:
      recursive: true

- link:
    ~/.local/share/cargo/config.toml: cargoconfig.toml
    ~/.config/alacritty: alacritty
    ~/.config/nvim: nvim
    ~/.config/git/config: gitconfig
    ~/.config/npm/npmrc: npmrc
    ~/.config/p10k.zsh: p10k.zsh
    ~/.config/python/pythonrc: pythonrc
    ~/.config/skhd/skhdrc: skhdrc
    ~/.config/tmux/tmux.conf: tmux.conf
    ~/.config/yabai/yabairc: yabairc
    ~/.zshrc: zshrc
    ~/Brewfile: brewfile_macos

    # Make Home and End keys Windows-like, needs reboot
    "/Users/sean/Library/KeyBindings/DefaultKeyBinding.dict": DefaultKeyBinding.dict

- create:
    - ~/.hushlogin # Hush login messages on bash/zsh open

- shell:
    - [brew bundle install --file=~/Brewfile]

- shell:
    - command: TPM_DIR=~/.config/tmux/plugins/tpm; git -C "$TPM_DIR" pull || git clone git@github.com:tmux-plugins/tpm.git "$TPM_DIR"
      description: Install TMUX plugin manager. To install TMUX plugins, open TMUX and press `prefix + I`
