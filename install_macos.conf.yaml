- shell:
  - [git submodule update --init --recursive, Installing submodules]

- defaults:
    link:
      create: true  # Create parent directories as needed

- clean:  # Remove dead links
    ~/:
    ~/.config:
      recursive: true

- link:
    '~/Library/Application Support/Code/User/settings.json': vscode/settings.json
    '/Users/sean/Library/KeyBindings/DefaultKeyBinding.dict': DefaultKeyBinding.dict
    ~/.cargo/config.toml: cargoconfig.toml
    ~/.config/nvim: nvim
    ~/.config/alacritty/alacritty.yml: alacritty/alacritty.yml
    ~/.config/com.googlecode.iterm2.plist: com.googlecode.iterm2.plist
    ~/.config/lazygit/config.yml: lazygit.yml
    ~/.btt_autoload_preset.json: btt_autoload_preset.json
    ~/.gitconfig: gitconfig
    ~/.p10k.zsh: p10k.zsh
    ~/.tmux.conf: tmux.conf
    ~/.zshrc: zshrc
    ~/Brewfile: brewfile_macos

    # Make Home and End keys Windows-like, needs reboot
    '/Users/sean/Library/KeyBindings/DefaultKeyBinding.dict': DefaultKeyBinding.dict

- create:
    - ~/.vim/undo-history
    - ~/.hushlogin  # Hush login messages on bash/zsh open
